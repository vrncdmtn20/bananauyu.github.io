(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[40],{183:function(e,t,n){"use strict";n.d(t,"k",(function(){return s})),n.d(t,"f",(function(){return i})),n.d(t,"e",(function(){return p})),n.d(t,"j",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return f})),n.d(t,"g",(function(){return m})),n.d(t,"h",(function(){return b})),n.d(t,"i",(function(){return h})),n.d(t,"a",(function(){return O})),n.d(t,"c",(function(){return y}));var a=n(0),r=n.n(a),u=n(1),c=n(36),o=n.n(c),s=function(){var e=Object(u.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("https://bananauyu-api.onrender.com/api/user/cart",{cart:t},{headers:{authtoken:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),i=function(){var e=Object(u.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("https://bananauyu-api.onrender.com/api/user/cart",{headers:{authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(u.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.delete("https://bananauyu-api.onrender.com/api/user/cart",{headers:{authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(u.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("https://bananauyu-api.onrender.com/api/user/address",{address:n},{headers:{authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),d=function(){var e=Object(u.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("https://bananauyu-api.onrender.com/api/user/cart/coupon",{coupon:n},{headers:{authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),f=function(){var e=Object(u.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("https://bananauyu-api.onrender.com/api/user/order",{stripeResponse:t},{headers:{authtoken:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=Object(u.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("https://bananauyu-api.onrender.com/api/user/orders",{headers:{authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(u.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("https://bananauyu-api.onrender.com/api/user/wishlist",{headers:{authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(u.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.put("https://bananauyu-api.onrender.com/api/user/wishlist/".concat(t),{},{headers:{authtoken:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),O=function(){var e=Object(u.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("https://bananauyu-api.onrender.com/api/user/wishlist",{productId:t},{headers:{authtoken:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),y=function(){var e=Object(u.a)(r.a.mark((function e(t,n,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("https://bananauyu-api.onrender.com/api/user/cash-order",{couponApplied:a,COD:n},{headers:{authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()},922:function(e,t,n){"use strict";n.r(t);var a=n(31),r=n(21),u=n(2),c=n.n(u),o=n(35),s=n(52),i=n(183),p=n(743),l=n.n(p);n(843);t.default=function(e){var t=e.history,n=Object(u.useState)([]),p=Object(r.a)(n,2),d=p[0],f=p[1],m=Object(u.useState)(0),b=Object(r.a)(m,2),h=b[0],O=b[1],y=Object(u.useState)(""),E=Object(r.a)(y,2),v=E[0],k=E[1],j=Object(u.useState)(!1),w=Object(r.a)(j,2),g=w[0],x=w[1],C=Object(u.useState)(""),N=Object(r.a)(C,2),P=N[0],S=N[1],A=Object(u.useState)(0),D=Object(r.a)(A,2),R=D[0],T=D[1],I=Object(u.useState)(""),_=Object(r.a)(I,2),U=_[0],L=_[1],J=Object(o.b)(),F=Object(o.c)((function(e){return Object(a.a)({},e)})),G=F.user,H=F.COD,$=Object(o.c)((function(e){return e.coupon}));Object(u.useEffect)((function(){Object(i.f)(G.token).then((function(e){console.log("user cart res",JSON.stringify(e.data,null,4)),f(e.data.products),O(e.data.cartTotal)}))}),[]);var q=function(){Object(i.j)(G.token,v).then((function(e){e.data.ok&&(x(!0),s.b.success("Address saved"))}))},z=function(){console.log("send coupon to backend",P),Object(i.b)(G.token,P).then((function(e){console.log("RES ON COUPON APPLIED",e.data),e.data&&(T(e.data),J({type:"COUPON_APPLIED",payload:!0})),e.data.err&&(L(e.data.err),J({type:"COUPON_APPLIED",payload:!1}))}))};return c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-6"},c.a.createElement("h4",null,"Delivery Address"),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement(c.a.Fragment,null,c.a.createElement(l.a,{theme:"snow",value:v,onChange:k}),c.a.createElement("button",{className:"btn btn-primary mt-2",onClick:q},"Save")),c.a.createElement("hr",null),c.a.createElement("h4",null,"Got Coupon?"),c.a.createElement("br",null),c.a.createElement(c.a.Fragment,null,c.a.createElement("input",{onChange:function(e){S(e.target.value),L("")},value:P,type:"text",className:"form-control"}),c.a.createElement("button",{onClick:z,className:"btn btn-primary mt-2"},"Apply")),c.a.createElement("br",null),U&&c.a.createElement("p",{className:"bg-danger p-2"},U)),c.a.createElement("div",{className:"col-md-6"},c.a.createElement("h4",null,"Order Summary"),c.a.createElement("hr",null),c.a.createElement("p",null,"Products ",d.length),c.a.createElement("hr",null),d.map((function(e,t){return c.a.createElement("div",{key:t},c.a.createElement("p",null,e.product.title," (",e.color,") x ",e.count," ="," ",e.product.price*e.count))})),c.a.createElement("hr",null),c.a.createElement("p",null,"Cart Total: ",h),R>0&&c.a.createElement("p",{className:"bg-success p-2"},"Discount Applied: Total Payable: $",R),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-6"},H?c.a.createElement("button",{className:"btn btn-primary",disabled:!g||!d.length,onClick:function(){Object(i.c)(G.token,H,$).then((function(e){console.log("USER CASH ORDER CREATED RES ",e),e.data.ok&&("undefined"!==typeof window&&localStorage.removeItem("cart"),J({type:"ADD_TO_CART",payload:[]}),J({type:"COUPON_APPLIED",payload:!1}),J({type:"COD",payload:!1}),Object(i.e)(G.token),setTimeout((function(){t.push("/user/history")}),1e3))}))}},"Place Order"):c.a.createElement("button",{className:"btn btn-primary",disabled:!g||!d.length,onClick:function(){return t.push("/payment")}},"Place Order")),c.a.createElement("div",{className:"col-md-6"},c.a.createElement("button",{disabled:!d.length,onClick:function(){"undefined"!==typeof window&&localStorage.removeItem("cart"),J({type:"ADD_TO_CART",payload:[]}),Object(i.e)(G.token).then((function(e){f([]),O(0),T(0),S(""),s.b.success("Cart is emapty. Contniue shopping.")}))},className:"btn btn-primary"},"Empty Cart")))))}}}]);
//# sourceMappingURL=40.7966cedc.chunk.js.map